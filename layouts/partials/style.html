{{ $titleAnchors := .Site.Params.TitleAnchors -}}
{{ with .Page.Params.titleAnchors -}} {{ $titleAnchors = . }} {{- end -}}
{{ $preLengthCap := .Site.Params.PreLengthCap -}}
{{ with .Page.Params.preLengthCap -}} {{ $titleAnchors = . }} {{- end -}}
<style>
	body{
		margin:1em auto;
		max-width:40em;
		padding:0 .62em;
		font:1.2em/1.62 sans-serif
	}
	h1,h2,h3{
		line-height:1.2
	}

	/* added by hugo theme */
	header > h1{margin-bottom:0}
	header{margin-bottom:1em}
	
	/* added by hugo theme */
	.mainblack {color:#000}
	.novisited:visited {color:#000}
	.novisited:hover, .novisited:visited:hover {color:#111}

	{{- if $titleAnchors }}
	/* added by hugo theme */
	.anchor {
		float: left;
		margin-left: -1em;
		text-decoration: none;
		color: gray
	}
	.anchor:hover {color: #000}
	{{- end }}

	/* added by hugo theme */
	blockquote {
		margin-left: 0;
		padding-left: 1em;
		border-inline-start: 0.25em solid #000;
	}
	pre {
		background: #eee;
		overflow-y: auto;
		{{- if $preLengthCap }}max-height: 30em;{{ end }}
	}

	@media print{
		body{max-width:none}
	}

	@media (prefers-color-scheme: light) {
		{{ partial "syntax-light.css" . | safeCSS }} {{- /* bloat :( */ -}}
	}
	@media (prefers-color-scheme: dark){
		body {color:#fff;background:#000}
		
		.mainblack {color:#fff}
		.novisited:visited {color:#fff}
		.novisited:hover, .novisited:visited:hover {color:#eee}
		
		a {color:#8abfff}
		a:hover, a:visited:hover {color:#def}
		a:visited {color:#dcf}
		
		{{- if $titleAnchors }}.anchor:hover {color: #fff}{{end}}
		blockquote {border-inline-start: 0.25em solid #fff}
		pre {background: #222;}
		{{ partial "syntax-dark.css" . | safeCSS }} {{- /* bloat :( */ -}}
	}
</style>
